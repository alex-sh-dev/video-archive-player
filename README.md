# Video archive player

Другие названия:
- плеер видеоархива
- плеер видеофрагментов
- videoarchive player
- videofragment player

Портретная ориентация         |  Альбомная ориентация
:----------------------------:|:------------------------------:
![](media/portrait_view.png)  |  ![](media/landscape_view.png)

## Description
- Данный плеер базируется на **MobileVLCKit** framework версии 3.0.7 Vetinari с собственными доработками
- Содержит две статические либы
  * **libExtendedScrollView.a** содержит производный класс от UIScrollView, реализующий функции масштабирования (зумирования) 
  * **libStepSlider.a** содержит базовый функционал для реализации ползунка (_slider_) по шкале времени
- Тестировал на iPhone 14 Pro Simulator (ios 16.4)

### Benefits
- Возможность зумировать видео с сохранением оригинального качества видео
- Поддержка любой ориентации устройства
- Содержит шкалу времени и заполненные интервалы, информирующие о наличии/отстутствии видео данных
- Добавлена возможность скрыть/показать панель навигации и блок кнопок для альбомной ориентации

[Презентация возможностей приложения](/media/presentation.mov)

### Usage
- В качестве примера смотрите этот вариант [json файла](/example/demo-01022026.json) ([json в raw формате](https://github.com/alex-sh-dev/video-archive-player/raw/refs/heads/master/example/demo-01022026.json) подходит в качестве указания файла в приложении, в иных случаях требуется добавить json файл на ваш сервер и полученную ссылку указать в приложении)
- В проекте не предусмотрена сортировка данных по времени (_time_). Ваш список должен быть заранее отсортирован
- В приложении добавлено автоматическое получение размера видео с помощью vlc, но если есть размеры, то предпочтительно их указать в json файле  

## Development
- Написано на **Swift** с использованием Objective-C либ
- В проекте используется многопоточность: OperationQueue, task + async
- Написаны unit тесты (около 10% покрытия)
- Содержит необходимые logging, assert
- Разбит умеренно на модули/классы
- Некоторые методы/свойства/параметры документированы
- Core Graphics для отрисовки шкалы времени и интервалов
- Storyboard/xib для всех интерфейсов
- Size-Class-Specific Layout / Autolayout

[Книга Swift](https://drive.google.com/file/d/1wUi08qCEDor-rrb28VTCLwrxTHENXeII/view)

## Troubleshooting
При использовании этого проекта в своем проекте обязательно добавьте либы/фреймворки, которые использует vlc, дабы избежать следующие ошибки
Вариант ошибки                |  Требуемые либы
:----------------------------:|:------------------------------:
<img width="1140" height="682" alt="undefined symbols" src="https://github.com/user-attachments/assets/f2424780-125f-4343-975e-cfca1f00265b" />  |  ![Требуемые либы](/media/used_libs.png)
